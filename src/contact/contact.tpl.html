<div class="contact" ng-controller="ContactController as contact">
    <div class="parallax">
        <div class="container"></div>
    </div>
    <div class="content">
        <div class="container" ng-if="!contact.sent">
            <div class="col-sm-12 text-center">
                <h3>{{'say \'hello!\'' | uppercase}}</h3>
            </div>

            <form name="form" class="form-horizontal" method="post" action="{{contact.actionUrl}}" target="contact-iframe">
                <div class="form-group" ng-class="{'has-error': !form.name.$pristine && form.name.$invalid}">
                    <label class="col-sm-3 control-label">Name</label>
                    <div class="col-sm-6">
                        <input type="text" name="name" class="form-control" ng-model="contact.name" ng-change="contact.updateActionUrl()" required>

                        <div class="validation-message" ng-show="!form.name.$pristine && form.name.$invalid">
                            <span class="help-block" ng-show="form.name.$error.required">Hi! I'm Catherine! And you are... ?</span>
                        </div>
                    </div>
                </div>

                <div class="form-group" ng-class="{'has-error': !form.email.$pristine && form.email.$invalid && emailDone}">
                    <label class="col-sm-3 control-label">Email</label>
                    <div class="col-sm-6">
                        <input type="email" name="email" class="form-control" ng-model="contact.email" ng-change="emailDone=false; contact.updateActionUrl()" ng-blur="emailDone=true" required>

                        <div class="validation-message" ng-show="!form.email.$pristine && form.email.$invalid && emailDone">
                            <span class="help-block" ng-show="form.email.$error.required">How do I contact you?</span>
                            <span class="help-block" ng-show="form.email.$error.email">Your email looks funky...</span>
                        </div>
                    </div>
                </div>

                <div class="form-group" ng-class="{'has-error': !form.message.$pristine && form.message.$invalid}">
                    <label class="col-sm-3 control-label">Message</label>
                    <div class="col-sm-6">
                        <textarea name="message" class="form-control" rows="3" spellcheck="false" ng-model="contact.message" ng-change="contact.updateActionUrl()" required></textarea>

                        <div class="validation-message" ng-show="!form.message.$pristine && form.message.$invalid">
                            <span class="help-block" ng-show="form.message.$error.required">What would you like to talk about?</span>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-sm-offset-3 text-center">
                    <button type="submit" class="btn btn-lg btn-success" ng-click="contact.sent = true" ng-disabled="form.$invalid">Submit</button>
                </div>
            </form>
        </div>

        <div class="container text-center thanks" ng-if="contact.sent">
            <h3>Thanks {{contact.name}}! I'll be in touch soon!</h3>
        </div>

        <iframe id="contact-iframe" name="contact-iframe"></iframe>
    </div>
</div>
